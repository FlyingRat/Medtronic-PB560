/*****************************************************************************/
/*                                                                            */
/* Project N°  :  RB0505                                                      */
/*                                                                            */
/*----------------------------------------------------------------------------*/
/*                                                                            */
/* Filename  : INTERRUPT_STKOF_trap.c 	  													*/
/*                                                                            */
/*----------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------*/


/******************************************************************************/
/*%C                     Functionnal description :                            */
/*%C             Stack overflow interrupt													*/
/******************************************************************************/
/*%I Input Parameter :  NONE                                            		*/
/*%IO Input/Output :    NONE	                                              	*/
/*%O Output Parameter : NONE       															*/
/******************************************************************************/

/******************************************************************************/
/*                                INCLUDE FILES		                          */
/******************************************************************************/
#ifndef _TASKING
#include "LH_ST10F276.h"
#include <intrins.h>
#else
#include "regf276e.h"
#endif 	
#include "typedef.h"
#include "io_declare.h"
#include "enum.h"
#include "Structure.h"
#include "Timer_Data.h"
					 
/******************************************************************************/
/*                            FUNCTION BODY                                   */
/******************************************************************************/

#ifndef _TASKING
void INTERRUPT_STKOF_trap(void) interrupt 0x04
#else
interrupt (0x04)
 void INTERRUPT_STKOF_trap(void)
#endif
{
   while (1) 
  	{ 
	ARRET_INVOLONTAIRE = 1;
  	_srvwdt_();
	WDOG =! WDOG;
   }              
}